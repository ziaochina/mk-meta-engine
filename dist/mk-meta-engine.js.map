{"version":3,"sources":["webpack://MKComponent/webpack/universalModuleDefinition","webpack://MKComponent/webpack/bootstrap","webpack://MKComponent/./node_modules/babel-runtime/core-js/array/from.js","webpack://MKComponent/./node_modules/babel-runtime/core-js/get-iterator.js","webpack://MKComponent/./node_modules/babel-runtime/core-js/object/assign.js","webpack://MKComponent/./node_modules/babel-runtime/core-js/object/create.js","webpack://MKComponent/./node_modules/babel-runtime/core-js/object/define-property.js","webpack://MKComponent/./node_modules/babel-runtime/core-js/object/get-prototype-of.js","webpack://MKComponent/./node_modules/babel-runtime/core-js/object/keys.js","webpack://MKComponent/./node_modules/babel-runtime/core-js/object/set-prototype-of.js","webpack://MKComponent/./node_modules/babel-runtime/core-js/symbol.js","webpack://MKComponent/./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack://MKComponent/./node_modules/babel-runtime/helpers/classCallCheck.js","webpack://MKComponent/./node_modules/babel-runtime/helpers/createClass.js","webpack://MKComponent/./node_modules/babel-runtime/helpers/extends.js","webpack://MKComponent/./node_modules/babel-runtime/helpers/inherits.js","webpack://MKComponent/./node_modules/babel-runtime/helpers/possibleConstructorReturn.js","webpack://MKComponent/./node_modules/babel-runtime/helpers/toConsumableArray.js","webpack://MKComponent/./node_modules/babel-runtime/helpers/typeof.js","webpack://MKComponent/./node_modules/core-js/library/fn/array/from.js","webpack://MKComponent/./node_modules/core-js/library/fn/get-iterator.js","webpack://MKComponent/./node_modules/core-js/library/fn/object/assign.js","webpack://MKComponent/./node_modules/core-js/library/fn/object/create.js","webpack://MKComponent/./node_modules/core-js/library/fn/object/define-property.js","webpack://MKComponent/./node_modules/core-js/library/fn/object/get-prototype-of.js","webpack://MKComponent/./node_modules/core-js/library/fn/object/keys.js","webpack://MKComponent/./node_modules/core-js/library/fn/object/set-prototype-of.js","webpack://MKComponent/./node_modules/core-js/library/fn/symbol/index.js","webpack://MKComponent/./node_modules/core-js/library/fn/symbol/iterator.js","webpack://MKComponent/./node_modules/core-js/library/modules/_a-function.js","webpack://MKComponent/./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack://MKComponent/./node_modules/core-js/library/modules/_an-object.js","webpack://MKComponent/./node_modules/core-js/library/modules/_array-includes.js","webpack://MKComponent/./node_modules/core-js/library/modules/_classof.js","webpack://MKComponent/./node_modules/core-js/library/modules/_cof.js","webpack://MKComponent/./node_modules/core-js/library/modules/_core.js","webpack://MKComponent/./node_modules/core-js/library/modules/_create-property.js","webpack://MKComponent/./node_modules/core-js/library/modules/_ctx.js","webpack://MKComponent/./node_modules/core-js/library/modules/_defined.js","webpack://MKComponent/./node_modules/core-js/library/modules/_descriptors.js","webpack://MKComponent/./node_modules/core-js/library/modules/_dom-create.js","webpack://MKComponent/./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack://MKComponent/./node_modules/core-js/library/modules/_enum-keys.js","webpack://MKComponent/./node_modules/core-js/library/modules/_export.js","webpack://MKComponent/./node_modules/core-js/library/modules/_fails.js","webpack://MKComponent/./node_modules/core-js/library/modules/_global.js","webpack://MKComponent/./node_modules/core-js/library/modules/_has.js","webpack://MKComponent/./node_modules/core-js/library/modules/_hide.js","webpack://MKComponent/./node_modules/core-js/library/modules/_html.js","webpack://MKComponent/./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack://MKComponent/./node_modules/core-js/library/modules/_iobject.js","webpack://MKComponent/./node_modules/core-js/library/modules/_is-array-iter.js","webpack://MKComponent/./node_modules/core-js/library/modules/_is-array.js","webpack://MKComponent/./node_modules/core-js/library/modules/_is-object.js","webpack://MKComponent/./node_modules/core-js/library/modules/_iter-call.js","webpack://MKComponent/./node_modules/core-js/library/modules/_iter-create.js","webpack://MKComponent/./node_modules/core-js/library/modules/_iter-define.js","webpack://MKComponent/./node_modules/core-js/library/modules/_iter-detect.js","webpack://MKComponent/./node_modules/core-js/library/modules/_iter-step.js","webpack://MKComponent/./node_modules/core-js/library/modules/_iterators.js","webpack://MKComponent/./node_modules/core-js/library/modules/_library.js","webpack://MKComponent/./node_modules/core-js/library/modules/_meta.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-assign.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-create.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-dp.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-dps.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-gopd.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-gopn.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-gops.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-gpo.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-keys-internal.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-keys.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-pie.js","webpack://MKComponent/./node_modules/core-js/library/modules/_object-sap.js","webpack://MKComponent/./node_modules/core-js/library/modules/_property-desc.js","webpack://MKComponent/./node_modules/core-js/library/modules/_redefine.js","webpack://MKComponent/./node_modules/core-js/library/modules/_set-proto.js","webpack://MKComponent/./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack://MKComponent/./node_modules/core-js/library/modules/_shared-key.js","webpack://MKComponent/./node_modules/core-js/library/modules/_shared.js","webpack://MKComponent/./node_modules/core-js/library/modules/_string-at.js","webpack://MKComponent/./node_modules/core-js/library/modules/_to-absolute-index.js","webpack://MKComponent/./node_modules/core-js/library/modules/_to-integer.js","webpack://MKComponent/./node_modules/core-js/library/modules/_to-iobject.js","webpack://MKComponent/./node_modules/core-js/library/modules/_to-length.js","webpack://MKComponent/./node_modules/core-js/library/modules/_to-object.js","webpack://MKComponent/./node_modules/core-js/library/modules/_to-primitive.js","webpack://MKComponent/./node_modules/core-js/library/modules/_uid.js","webpack://MKComponent/./node_modules/core-js/library/modules/_wks-define.js","webpack://MKComponent/./node_modules/core-js/library/modules/_wks-ext.js","webpack://MKComponent/./node_modules/core-js/library/modules/_wks.js","webpack://MKComponent/./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack://MKComponent/./node_modules/core-js/library/modules/core.get-iterator.js","webpack://MKComponent/./node_modules/core-js/library/modules/es6.array.from.js","webpack://MKComponent/./node_modules/core-js/library/modules/es6.array.iterator.js","webpack://MKComponent/./node_modules/core-js/library/modules/es6.object.assign.js","webpack://MKComponent/./node_modules/core-js/library/modules/es6.object.create.js","webpack://MKComponent/./node_modules/core-js/library/modules/es6.object.define-property.js","webpack://MKComponent/./node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack://MKComponent/./node_modules/core-js/library/modules/es6.object.keys.js","webpack://MKComponent/./node_modules/core-js/library/modules/es6.object.set-prototype-of.js","webpack://MKComponent/./node_modules/core-js/library/modules/es6.string.iterator.js","webpack://MKComponent/./node_modules/core-js/library/modules/es6.symbol.js","webpack://MKComponent/./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack://MKComponent/./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack://MKComponent/./node_modules/core-js/library/modules/web.dom.iterable.js","webpack://MKComponent/./node_modules/omit.js/es/index.js","webpack://MKComponent/./src/action.js","webpack://MKComponent/./src/common.js","webpack://MKComponent/./src/componentFactory.js","webpack://MKComponent/./src/config.js","webpack://MKComponent/./src/context.js","webpack://MKComponent/./src/index.js","webpack://MKComponent/./src/monkeyKing.js","webpack://MKComponent/./src/reducer.js","webpack://MKComponent/./src/templateFactory.js","webpack://MKComponent/./src/wrapper.js","webpack://MKComponent/external \"Immutable\"","webpack://MKComponent/external \"MKAppLoader\"","webpack://MKComponent/external \"MKUtils\"","webpack://MKComponent/external \"React\"","webpack://MKComponent/external \"ReactDom\""],"names":["creator","common","appInstances","action","option","appInfo","meta","cache","setMeta","config","metaHandlers","initView","component","injections","props","appFullName","appName","appQuery","instance","onInit","unmount","componentWillMount","componentDidMount","shouldComponentUpdate","nextProps","nextState","componentWillReceiveProps","componentWillUpdate","componentDidCatch","error","info","componentWillUnmount","componentDidUpdate","getAppInstances","getField","fieldPath","getState","getFields","fieldPaths","setField","value","reduce","setFields","values","parseExpreesion","v","expression","expressionParams","concat","map","k","params","body","utils","getExpressionBody","Function","execExpression","expressContent","data","path","rowIndex","vars","ctrlPath","metaHandlerKeys","i","key","fun","n","args","push","currentPath","lastIndex","length","apply","e","setTimeout","console","exception","needUpdate","t","isExpression","_notParse","_isAMomentObject","_power","_visible","updateMeta","Array","sub","name","join","subType","isMeta","_isMeta","excludeProps","_excludeProps","excludePropsKeys","excludePropsKey","keys","j","forEach","kk","getMeta","fullPath","propertys","parsedPath","parsePath","undefined","toJS","setMetaForce","focus","isFocus","focusByEvent","findPathByEvent","focusFieldPath","replace","getDirectFuns","gm","gf","toast","Toast","getToast","slice","notification","Notification","getNotification","modal","Modal","getModal","loadApp","gfs","sf","sfs","stringToMoment","moment","momentToString","fromJS","context","contextManager","updateField","existsParamsInPath","window","has","parseMetaTemplate","setIn","parseMeta","fullpath","getIn","metaMap","get","currentMeta","split","ret","p","val","state","o","fn","updateIn","isComponent","templates","parseProp","propValue","Immutable","Map","string","trim","substring","template","templateFactory","getTemplate","substr","keySeq","toArray","List","c","index","seg","pop","ll","remove","insert","parentPath","parentRealPath","set","currentRealPath","componentFactory","components","appComponents","ingoreExists","componentName","registerComponent","nameSegs","firstSeg","com","findChild","s","errorBox","apps","cf","AppLoader","registerAppComponent","a","getApps","_context","start","reducer","wrapper","parseMetaProps","mc","metaToComponent","toFunction","_","memoize","metaType","Date","test","indexOf","items","size","childMeta","varsString","getComponent","allProps","propKeys","clearAppState","payload","_notRender","React","createElement","MonkeyKing","init","initByImmutable","mapKeys","templateHandler","registerTemplate","hasError","setState","color","message","notRender","WrappedComponent","monkeyKing","Component"],"mappings":"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;;;;;;;;;;;;ACJA,6BAA6B;AAC7B,uCAAuC;;;;;;;;;;;;;ACDvC;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA,iCAAiC,QAAQ,mBAAmB,UAAU,EAAE,EAAE;AAC1E,CAAC;;;;;;;;;;;;ACHD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd,eAAe;AACf,eAAe;AACf,eAAe;AACf,gBAAgB;AAChB;;;;;;;;;;;;AC7DA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA,yCAAyC;;;;;;;;;;;;ACLzC,uBAAuB;AACvB;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;;;;;;;;;;;ACPA;AACA;;;;;;;;;;;;ACDA;AACA,+IAAsE,mBAAmB,UAAU,EAAE,EAAE;AACvG,CAAC;;;;;;;;;;;;ACFD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;;AAEA;AACA,uNAAkF,aAAa,EAAE;;AAEjG;AACA,qDAAqD,4BAA4B;AACjF;AACA;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;;AAEA,8BAA8B,aAAa;;AAE3C;AACA;AACA;AACA;AACA;AACA,yCAAyC,oCAAoC;AAC7E,6CAA6C,oCAAoC;AACjF,KAAK,4BAA4B,oCAAoC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;ACpEA;AACA;;AAEA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA,iCAAiC,SAAS,EAAE;AAC5C,CAAC,YAAY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,qBAAqB;AAC3D,iCAAiC,aAAa;AAC9C;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;;;;;ACrBA;AACA,UAAU;AACV;;;;;;;;;;;;ACFA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,UAAU,EAAE;AAChD,mBAAmB,sCAAsC;AACzD,CAAC,qCAAqC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;;;;;ACjCD;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;ACxCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;;;;;ACfA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AClBA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACNA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACZA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACNA,cAAc;;;;;;;;;;;;ACAd;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,qDAAqD,OAAO,EAAE;AAC9D;;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,GAAG;AACR;AACA;;;;;;;;;;;;ACxBA;AACA;AACA;;AAEA;AACA,oEAAoE,iCAAiC;AACrG;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA,kDAAkD;;AAElD;AACA,qEAAqE;AACrE,CAAC;AACD;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACXD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,sBAAsB;AAChF,kFAAkF,wBAAwB;AAC1G;;;;;;;;;;;;ACRA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sJAA4E,kBAAkB,EAAE;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,gCAAgC;AACvF;AACA;AACA,KAAK;AACL;AACA,kCAAkC,gBAAgB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACpCD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACjCA;AACA;;AAEA,0CAA0C,kHAAsC;;;;;;;;;;;;ACHhF;AACA;AACA,8BAA8B,kHAAsC;;;;;;;;;;;;ACFpE;AACA;AACA,iJAAuE,oHAA4C;;;;;;;;;;;;ACFnH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACRD;AACA;AACA,8BAA8B,sHAA8C;;;;;;;;;;;;;;;;;;;;;;;;ACF5E;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B,cAAc;AACd;AACA,CAAC;AACD;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,UAAU;AACV,CAAC;;;;;;;;;;;;;AChBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzOA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA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","file":"mk-meta-engine.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"MKAppLoader\"), require(\"React\"), require(\"Immutable\"), require(\"MKUtils\"), require(\"ReactDom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"MKAppLoader\", \"React\", \"Immutable\", \"MKUtils\", \"ReactDom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MKComponent\"] = factory(require(\"MKAppLoader\"), require(\"React\"), require(\"Immutable\"), require(\"MKUtils\"), require(\"ReactDom\"));\n\telse\n\t\troot[\"MKComponent\"] = factory(root[\"MKAppLoader\"], root[\"React\"], root[\"Immutable\"], root[\"MKUtils\"], root[\"ReactDom\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_mk_app_loader__, __WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_immutable__, __WEBPACK_EXTERNAL_MODULE_mk_utils__, __WEBPACK_EXTERNAL_MODULE_react_dom__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","module.exports = function () { /* empty */ };\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var core = module.exports = { version: '2.5.7' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = true;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","module.exports = require('./_hide');\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2018 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","import _extends from \"babel-runtime/helpers/extends\";\nfunction omit(obj, fields) {\n  var shallowCopy = _extends({}, obj);\n  for (var i = 0; i < fields.length; i++) {\n    var key = fields[i];\n    delete shallowCopy[key];\n  }\n  return shallowCopy;\n}\n\nexport default omit;","import React from 'react'\nimport { AppLoader } from 'mk-app-loader'\nimport * as common from './common'\nimport utils from 'mk-utils'\nimport { fromJS } from 'immutable'\nimport contextManager from './context'\nimport config from './config'\n\nconst appInstances = {}\n\nclass action {\n\tconstructor(option) {\n\t\tthis.appInfo = option.appInfo\n\t\tthis.meta = fromJS(option.appInfo.meta)\n\t\tthis.cache = {}\n\n\t\tcommon.setMeta(option.appInfo)\n\t}\n\n\tconfig = ({ metaHandlers }) => {\n\t\tthis.metaHandlers = metaHandlers\n\t}\n\n\tinitView = (component, injections) => {\n\t\tthis.component = component\n\t\tthis.injections = injections\n\n\t\tappInstances[component.props.appFullName] = {\n\t\t\tappName: component.props.appName,\n\t\t\tappQuery: component.props.appQuery,\n\t\t\t//app: config.getApps()[component.props.appName],\n\t\t\tinstance: component\n\t\t}\n\n\t\tthis.metaHandlers && this.metaHandlers.onInit && this.metaHandlers.onInit({ component, injections })\n\t}\n\n\tunmount = () => {\n\t\tdelete appInstances[this.component.appFullName]\n\t}\n\n\tcomponentWillMount = () => {\n\t\tthis.metaHandlers\n\t\t\t&& this.metaHandlers['componentWillMount']\n\t\t\t&& this.metaHandlers['componentWillMount'] != this.componentWillMount\n\t\t\t&& this.metaHandlers['componentWillMount']()\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.metaHandlers\n\t\t\t&& this.metaHandlers['componentDidMount']\n\t\t\t&& this.metaHandlers['componentDidMount'] != this.componentDidMount\n\t\t\t&& this.metaHandlers['componentDidMount']()\n\t}\n\n\tshouldComponentUpdate = (nextProps, nextState) => {\n\t\tthis.metaHandlers\n\t\t\t&& this.metaHandlers['shouldComponentUpdate']\n\t\t\t&& this.metaHandlers['shouldComponentUpdate'] != this.shouldComponentUpdate\n\t\t\t&& this.metaHandlers['shouldComponentUpdate'](nextProps, nextState)\n\t}\n\n\tcomponentWillReceiveProps = (nextProps) => {\n\t\tthis.metaHandlers\n\t\t\t&& this.metaHandlers['componentWillReceiveProps']\n\t\t\t&& this.metaHandlers['componentWillReceiveProps'] != this.componentWillReceiveProps\n\t\t\t&& this.metaHandlers['componentWillReceiveProps'](nextProps)\n\t}\n\n\tcomponentWillUpdate = (nextProps, nextState) => {\n\t\tthis.metaHandlers\n\t\t\t&& this.metaHandlers['componentWillUpdate']\n\t\t\t&& this.metaHandlers['componentWillUpdate'] != this.componentWillUpdate\n\t\t\t&& this.metaHandlers['componentWillUpdate'](nextProps, nextState)\n\t}\n\n\tcomponentDidCatch = (error, info) => {\n\t\tthis.metaHandlers\n\t\t\t&& this.metaHandlers['componentDidCatch']\n\t\t\t&& this.metaHandlers['componentDidCatch'] != this.componentDidCatch\n\t\t\t&& this.metaHandlers['componentDidCatch'](error, info)\n\t}\n\n\tcomponentWillUnmount = () => {\n\t\tthis.metaHandlers\n\t\t\t&& this.metaHandlers['componentWillUnmount']\n\t\t\t&& this.metaHandlers['componentWillUnmount'] != this.componentWillUnmount\n\t\t\t&& this.metaHandlers['componentWillUnmount']()\n\t}\n\n\tcomponentDidUpdate = () => {\n\t\tthis.metaHandlers\n\t\t\t&& this.metaHandlers['componentDidUpdate']\n\t\t\t&& this.metaHandlers['componentDidUpdate'] != this.componentDidUpdate\n\t\t\t&& this.metaHandlers['componentDidUpdate']()\n\t}\n\n\tgetAppInstances = () => {\n\t\treturn appInstances\n\t}\n\n\n\tgetField = (fieldPath) => {\n\t\treturn common.getField(this.injections.getState(), fieldPath)\n\t}\n\n\tgetFields = (fieldPaths) => {\n\t\treturn common.getFields(this.injections.getState(), fieldPaths)\n\t}\n\n\tsetField = (fieldPath, value) => {\n\t\treturn this.injections.reduce('setField', fieldPath, value)\n\t}\n\n\tsetFields = (values) => {\n\t\treturn this.injections.reduce('setFields', values)\n\t}\n\n\tparseExpreesion = (v) => {\n\t\tif (!this.cache.expression)\n\t\t\tthis.cache.expression = {}\n\n\t\tif (this.cache.expression[v]) {\n\t\t\treturn this.cache.expression[v]\n\t\t}\n\n\t\tif (!this.cache.expressionParams) {\n\t\t\tthis.cache.expressionParams = ['data']\n\t\t\t\t.concat(Object.keys(this.metaHandlers).map(k => \"$\" + k))\n\t\t\t\t.concat(['_path', '_rowIndex', '_vars', '_ctrlPath', '_lastIndex'])\n\t\t}\n\n\t\tvar params = this.cache.expressionParams\n\n\t\tvar body = utils.expression.getExpressionBody(v)\n\n\t\tthis.cache.expression[v] = new Function(...params, body)\n\t\treturn this.cache.expression[v]\n\t}\n\n\texecExpression = (expressContent, data, path, rowIndex, vars, ctrlPath) => {\n\t\tvar values = [data]\n\n\t\tvar metaHandlerKeys = Object.keys(this.metaHandlers),\n\t\t\ti, key\n\n\t\tvar fun = (n, option) => {\n\t\t\treturn (...args)=>{\n\t\t\t\treturn this.metaHandlers[n](...args, option)\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; key = metaHandlerKeys[i++];) {\n\t\t\tvalues.push(fun(key, {\n\t\t\t\tcurrentPath: path, rowIndex, vars, lastIndex: vars && vars[vars.length - 1]\n\t\t\t}))\n\t\t}\n\n\t\t/*\n\n\t\tObject.keys(this.metaHandlers).forEach(k => {\n\t\t\tvalues.push((...args) => this.metaHandlers[k](...args, { currentPath: path, rowIndex, vars, lastIndex: vars && vars[vars.length - 1] }))\n\t\t})\n\t\t*/\n\t\tvalues.push(path)\n\t\tvalues.push(rowIndex)\n\t\tvalues.push(vars)\n\t\tvalues.push(ctrlPath)\n\t\tvalues.push(vars && vars[vars.length - 1])\n\t\t//values = values.concat([path, rowIndex, vars, ctrlPath, vars && vars[vars.length-1] ])\n\t\ttry {\n\t\t\treturn this.parseExpreesion(expressContent).apply(this, values)\n\t\t}\n\t\tcatch (e) {\n\t\t\tthis.metaHandlers\n\t\t\t\t&& this.metaHandlers.componentDidCatch\n\t\t\t\t&& this.metaHandlers.componentDidCatch != this.componentDidCatch\n\t\t\t\t&& this.metaHandlers.componentDidCatch(e)\n\t\t\tsetTimeout(() => {\n\t\t\t\tconsole.error(`${expressContent}`)\n\t\t\t\tutils.exception.error(e)\n\t\t\t}, 500)\n\n\t\t}\n\t}\n\n\n\tneedUpdate = (meta) => {\n\t\tif (!meta)\n\t\t\treturn false\n\n\t\tconst t = typeof meta\n\n\t\tif (t == 'string' && utils.expression.isExpression(meta))\n\t\t\treturn true\n\n\t\tif (t != 'object')\n\t\t\treturn false\n\n\t\tif (meta._notParse === true) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn !(t != 'object'\n\t\t\t|| !!meta['$$typeof']\n\t\t\t|| !!meta._isAMomentObject\n\t\t\t|| !!meta._power\n\t\t\t|| meta._visible === false)\n\t}\n\n\tupdateMeta = (meta, path, rowIndex, vars, data, ctrlPath) => {\n\n\t\tif (!this.needUpdate(meta))\n\t\t\treturn\n\n\t\tif (meta instanceof Array) {\n\t\t\tfor (let i = 0; i < meta.length; i++) {\n\t\t\t\tlet sub = meta[i]\n\t\t\t\tlet currentPath = path\n\t\t\t\tif (!sub)\n\t\t\t\t\tcontinue\n\n\t\t\t\tif (sub._power) {\n\t\t\t\t\tcurrentPath = `${path}.${sub.name}`\n\t\t\t\t\tsub.path = vars ? `${currentPath}, ${vars.join(',')}` : currentPath\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tlet subType = typeof sub, isExpression = false, isMeta = false\n\n\t\t\t\tif (subType == 'string' && utils.expression.isExpression(sub)) {\n\t\t\t\t\tsub = this.execExpression(sub, data, path, rowIndex, vars, ctrlPath)\n\t\t\t\t\tisExpression = true\n\t\t\t\t\tif (sub && sub._isMeta === true)\n\t\t\t\t\t\tisMeta = true\n\n\t\t\t\t\tif (sub && sub._isMeta === true) {\n\t\t\t\t\t\tisMeta = true\n\t\t\t\t\t\tmeta[i] = sub.value\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmeta[i] = sub\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!this.needUpdate(sub))\n\t\t\t\t\tcontinue\n\n\t\t\t\tif (isExpression && !isMeta) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tsubType = typeof sub\n\n\t\t\t\tif (sub instanceof Array) {\n\t\t\t\t\tcurrentPath = `${path}.${i}`\n\t\t\t\t\tsub.path = vars ? `${currentPath}, ${vars.join(',')}` : currentPath\n\t\t\t\t\tthis.updateMeta(sub, currentPath, rowIndex, vars, data, ctrlPath)\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tif (sub.name && sub.component) {\n\t\t\t\t\tcurrentPath = `${path}.${sub.name}`\n\t\t\t\t\tsub.path = vars ? `${currentPath}, ${vars.join(',')}` : currentPath\n\t\t\t\t\tthis.updateMeta(sub, currentPath, rowIndex, vars, data, sub.path)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcurrentPath = `${path}.${i}`\n\t\t\t\t\tsub.path = vars ? `${currentPath}, ${vars.join(',')}` : currentPath\n\t\t\t\t\tthis.updateMeta(sub, currentPath, rowIndex, vars, data, ctrlPath)\n\t\t\t\t}\n\n\t\t\t}\n\t\t\treturn\n\t\t}\n\n\t\tvar excludeProps = meta._excludeProps\n\t\tif (excludeProps && utils.expression.isExpression(excludeProps)) {\n\t\t\texcludeProps = this.execExpression(excludeProps, data, path, rowIndex, vars, ctrlPath)\n\t\t}\n\n\t\t//meta\n\t\tif (excludeProps && excludeProps instanceof Array) {\n\n\t\t\tvar excludePropsKeys = Object.keys(excludeProps),\n\t\t\t\ti, excludePropsKey\n\n\t\t\tfor (i = 0; excludePropsKey = excludePropsKeys[i++];) {\n\t\t\t\tif (meta[excludePropsKey])\n\t\t\t\t\tdelete meta[excludePropsKey]\n\t\t\t}\n\t\t\t/*\n\t\t\texcludeProps.forEach(k => {\n\t\t\t\tif (meta[k])\n\t\t\t\t\tdelete meta[k]\n\t\t\t})*/\n\t\t}\n\n\t\tvar keys = Object.keys(meta),\n\t\t\tj, key\n\n\t\tfor (j = 0; key = keys[j++];) {\n\t\t\tlet v = meta[key],\n\t\t\t\tt = typeof v,\n\t\t\t\tcurrentPath = path\n\n\t\t\tif (!v)\n\t\t\t\tcontinue\n\n\t\t\tif (v._power) {\n\t\t\t\tcurrentPath = `${path}.${key}.${v.name}`\n\t\t\t\tv.path = vars ? `${currentPath}, ${vars.join(',')}` : currentPath\n\t\t\t\tcontinue\n\t\t\t}\n\n\t\t\tlet isExpression = false, isMeta = false\n\t\t\tif (t == 'string' && utils.expression.isExpression(v)) {\n\t\t\t\tv = this.execExpression(v, data, `${path}.${key}`, rowIndex, vars, ctrlPath)\n\t\t\t\tisExpression = true\n\t\t\t\tif (key == '...' && v && typeof v == 'object') {\n\t\t\t\t\tObject.keys(v).forEach(kk => {\n\t\t\t\t\t\tmeta[kk] = v[kk]\n\t\t\t\t\t})\n\t\t\t\t\tdelete meta['...']\n\t\t\t\t} else {\n\t\t\t\t\tif (v && v._isMeta === true) {\n\t\t\t\t\t\tisMeta = true\n\t\t\t\t\t\tmeta[key] = v.value\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmeta[key] = v\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tt = typeof t\n\n\t\t\tif (!this.needUpdate(v))\n\t\t\t\tcontinue\n\n\t\t\tif (isExpression && !isMeta) {\n\t\t\t\tcontinue\n\t\t\t}\n\n\t\t\tif (v instanceof Array) {\n\t\t\t\tthis.updateMeta(v, `${path}.${key}`, rowIndex, vars, data, ctrlPath)\n\t\t\t\tcontinue\n\t\t\t}\n\n\t\t\tif (v.name && v.component) {\n\t\t\t\tcurrentPath = `${path}.${key}.${v.name}`\n\t\t\t\tv.path = vars ? `${currentPath}, ${vars.join(',')}` : currentPath\n\t\t\t\tthis.updateMeta(v, currentPath, rowIndex, vars, data, v.path)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcurrentPath = `${path}.${key}`\n\t\t\t\tv.path = vars ? `${currentPath}, ${vars.join(',')}` : currentPath\n\t\t\t\tthis.updateMeta(v, currentPath, rowIndex, vars, data, ctrlPath)\n\t\t\t}\n\t\t}\n\t}\n\n\tgetMeta = (fullPath, propertys, data) => {\n\t\tconst meta = common.getMeta(this.appInfo, fullPath, propertys),\n\t\t\tparsedPath = utils.path.parsePath(fullPath),\n\t\t\tpath = parsedPath.path,\n\t\t\trowIndex = parsedPath.vars ? parsedPath.vars[0] : undefined,\n\t\t\tvars = parsedPath.vars\n\n\t\tif (!data)\n\t\t\tdata = common.getField(this.injections.getState()).toJS()\n\n\t\tmeta._power = undefined\n\t\tmeta.path = fullPath\n\t\tthis.updateMeta(meta, path, rowIndex, vars, data, fullPath)\n\t\treturn meta\n\t}\n\n\tsetMetaForce = (appName, meta) => {\n\t\tcommon.setMetaForce(appName, meta)\n\t}\n\n\tfocus = (path) => {\n\t\tif (this.isFocus(path)) return false\n\t\tthis.setField('data.other.focusFieldPath', path)\n\t\treturn true\n\t}\n\n\tfocusByEvent = (e) => {\n\t\tconst path = utils.path.findPathByEvent(e)\n\t\treturn this.focus(path)\n\t}\n\n\tisFocus = (path) => {\n\t\tif (!path) return false\n\t\tconst focusFieldPath = this.getField('data.other.focusFieldPath')\n\t\tif (!focusFieldPath) return false\n\t\treturn path.replace(/\\s/g, '') == focusFieldPath.replace(/\\s/g, '')\n\t}\n\n\tgetDirectFuns = () => {\n\t\treturn {\n\t\t\tgetMeta: (...args) => {\n\t\t\t\treturn this.getMeta(...args)\n\t\t\t},\n\t\t\tgetField: (fieldPath) => {\n\t\t\t\treturn this.getField(fieldPath)\n\t\t\t},\n\t\t\tgm: (...args) => {\n\t\t\t\treturn this.getMeta(...args)\n\t\t\t},\n\t\t\tgf: (fieldPath) => {\n\t\t\t\treturn this.getField(fieldPath)\n\t\t\t},\n\t\t}\n\t}\n\n\ttoast = (...args) => {\n\t\tconst Toast = config.getToast()\n\t\tif (!Toast || args.length == 0 || !Toast[args[0]]) return\n\t\tToast[args[0]](...args.slice(1))\n\t}\n\n\tnotification = (...args) => {\n\t\tconst Notification = config.getNotification()\n\t\tif (!Notification || args.length == 0 || !Notification[args[0]]) return\n\t\tNotification[args[0]](...args.slice(1))\n\t}\n\n\tmodal = (...args) => {\n\t\tconst Modal = config.getModal()\n\t\tif (!Modal || args.length == 0 || !Modal[args[0]]) return\n\t\treturn Modal[args[0]](...args.slice(1))\n\t}\n\n\tloadApp = (name, props) => {\n\t\treturn <AppLoader {...props} name={name} />\n\t}\n\n\tgm = this.getMeta\n\n\tgf = this.getField\n\n\tgfs = this.getFields\n\n\tsf = this.setField\n\n\tsfs = this.setFields\n\n\tfindPathByEvent = utils.path.findPathByEvent\n\n\tstringToMoment = utils.moment.stringToMoment\n\n\tmomentToString = utils.moment.momentToString\n\n\tfromJS = fromJS\n\n\tcontext = contextManager\n}\n\nexport default function creator(option) {\n\treturn new action(option)\n}","import Immutable, { Map, List, fromJS } from 'immutable'\nimport utils, { path } from 'mk-utils'\nimport templateFactory from './templateFactory'\n\nconst { existsParamsInPath, parsePath } = path\n\n\nconst cache = { meta: Map() }\n\nwindow['__getCache'] = () => cache\n\nexport function setMeta(appInfo) {\n\n    if (!appInfo || !appInfo.meta) return\n\n    const appName = appInfo.name\n\n    if (cache.meta.has(appName))\n        return\n\n    setMetaForce(appName, appInfo.meta)\n}\n\nexport function setMetaForce(appName, meta) {\n    if (!appName || !meta)\n        return\n\n    meta = fromJS(meta)\n\n    meta = parseMetaTemplate(meta)\n    \n    cache.meta = cache.meta\n        .setIn([appName, 'meta'], meta)\n        .setIn([appName, 'metaMap'], parseMeta(meta))\n}\n\nexport function getMeta(appInfo, fullpath, propertys) {\n    //pathmeta\n    if (!fullpath)\n        return cache.meta.getIn([appInfo.name, 'meta']).toJS()\n\n    const parsedPath = parsePath(fullpath),\n        vars = parsedPath.vars,\n        metaMap = cache.meta.getIn([appInfo.name, 'metaMap']),\n        meta = cache.meta.getIn([appInfo.name, 'meta'])\n\n    const path = metaMap.get(parsedPath.path)\n\n    const currentMeta = path ? meta.getIn(path.split('.')) : meta\n\n    //\n    if (!propertys)\n        return currentMeta.toJS()\n\n    const ret = {}\n\n    //\n    if (propertys instanceof Array) {\n        var i, p;\n\n        for (i = 0; p = propertys[i++];) {\n            var val = currentMeta.getIn(p.split('.'))\n            ret[p] = (val && val.toJS) ? val.toJS() : val\n        }\n\n        /*\n        propertys.forEach(p => {\n            let val = currentMeta.getIn(p.split('.'))\n            //immutabletoJS()\n            ret[p] = (val && val.toJS) ? val.toJS() : val\n        })*/\n\n        return ret\n    }\n\n    //\n    if (typeof propertys == 'string') {\n        let val = currentMeta.getIn(propertys.split('.'))\n        return (val && val.toJS) ? val.toJS() : val\n    }\n}\n\nexport function getField(state, fieldPath) {\n    if (!fieldPath) {\n        return state.get('data')\n    }\n\n    if (fieldPath instanceof Array) {\n        return state.getIn(fieldPath)\n    } else {\n        return state.getIn(fieldPath.split('.'))\n    }\n}\n\nexport function getFields(state, fieldPaths) {\n    var ret = {}\n    fieldPaths.forEach(o => ret[o] = getField(state, o))\n    return ret\n}\n\nexport function setField(state, fieldPath, value) {\n    if (fieldPath instanceof Array) {\n        return state.setIn(fieldPath, value)\n    } else {\n        return state.setIn(fieldPath.split('.'), value)\n    }\n}\n\nexport function setFields(state, values) {\n    var keys = Object.keys(values),\n        i, key\n\n    for (i = 0; key = keys[i++];) {\n        state = setField(state, key, values[key])\n    }\n    return state\n}\n\nexport function updateField(state, fieldPath, fn) {\n    if (fieldPath instanceof Array) {\n        return state.updateIn(fieldPath, fn)\n    } else {\n        return state.updateIn(fieldPath.split('.'), fn)\n    }\n}\n\nfunction isComponent(meta) {\n    return typeof meta == 'object' && !!meta.name && !!meta.component\n}\n\nfunction parseMetaTemplate(meta) {\n    var templates = []\n    \n    const parseProp = (propValue, path) => {\n        if (!(propValue instanceof Immutable.Map)) {\n            return\n        }\n        if (propValue.get('component')) {\n            var component = utils.string.trim(propValue.get('component'))\n            if(component.substring(0, 2) == '##'){\n                var template = templateFactory.getTemplate(component.substr(2))\n                if(template){\n                    templates.push([path, fromJS(template(propValue.toJS()))])\n                    return \n                }\n            }\n        }\n\n        propValue.keySeq().toArray().forEach(p => {\n            let v = propValue.get(p)\n            if (v instanceof Immutable.List) {\n                v.forEach((c, index) => {\n                    let currentPath = path ? `${path}.${p}.${index}` : `${p}.${index}`\n                    parseProp(c, currentPath)\n                })\n            } else {\n                let currentPath = path ? `${path}.${p}` : p\n                parseProp(v, currentPath)\n            }\n        })\n    }\n    parseProp(meta, '')\n    templates.forEach(t => {\n        let seg = t[0].split('.')\n        if (\n            (t[1] instanceof Immutable.List) && \n            (meta.getIn(seg.slice(0, seg.length-1)) instanceof Immutable.List )\n        ) {\n            let index = seg.pop()\n            meta = meta.updateIn(seg, ll=>{\n                ll = ll.remove(index)\n\n                t[1].forEach(o=>{\n                    ll = ll.insert(index, o)\n                    index++\n                })\n                return ll\n            })\n        }\n        else{\n            meta = meta.setIn(seg, t[1] )\n        }\n    })\n    return meta\n}\n\nfunction parseMeta(meta) {\n    let ret = Map()\n    const parseProp = (propValue, parentPath, parentRealPath) => {\n        if (!(propValue instanceof Immutable.Map)) {\n            return\n        }\n        if (propValue.get('name') && propValue.get('component')) {\n            const name = utils.string.trim(propValue.get('name'))\n            parentPath = parentPath ? `${parentPath}.${name}` : name\n            ret = ret.set(parentPath, parentRealPath)\n        }\n\n        propValue.keySeq().toArray().forEach(p => {\n\n            let v = propValue.get(p),\n                currentPath = parentPath ? `${parentPath}.${p}` : p\n            if (v instanceof Immutable.List) {\n                v.forEach((c, index) => {\n                    let currentRealPath = parentRealPath ? `${parentRealPath}.${p}.${index}` : `${p}.${index}`\n                    parseProp(c, `${currentPath}`, currentRealPath)\n                })\n            } else {\n                let currentRealPath = parentRealPath ? `${parentRealPath}.${p}` : p\n                parseProp(v, `${currentPath}`, currentRealPath)\n            }\n        })\n    }\n\n    parseProp(meta, '', '')\n    return ret\n}\n","class componentFactory {\n    constructor() {\n        this.components = {}\n        this.appComponents = {}\n    }\n\n    registerComponent(name, component, ingoreExists) {\n        if (this.components[name]) {\n            if(ingoreExists){\n                return\n            }\n            else{\n                throw `existed. name: ${name}`\n            }\n        }\n        this.components[name] = component\n    }\n\n    registerAppComponent(appName, componentName, component) {\n        this.appComponents[appName] = this.appComponents[appName] || {}\n        this.appComponents[appName].components = this.appComponents[appName].components || {}\n        if (this.appComponents[appName].components[componentName])\n            throw `existed. app:${appName}, name: ${componentName}`\n        this.appComponents[appName].components[componentName] = component\n    }\n\n    registerComponents(components) {\n        if (!components || components.length == 0)\n            return\n        components.forEach(c => this.registerComponent(c.name, c.component))\n    }\n\n    getComponent(appName, name) {\n        if (!name)\n            throw 'component name can not null'\n\n        if (name.substring(0, 2) == '::') {\n            if(name.substr(2))\n                return  name.substr(2) \n            else\n                throw `. name: ::`\n        }\n\n        const nameSegs = name.split('.'),\n            firstSeg = nameSegs[0]\n\n        if (this.appComponents && this.appComponents[appName] && this.appComponents[appName].components && this.appComponents[appName].components[firstSeg]) {\n            var com = this.appComponents[appName].components[name]\n\n            if (com && nameSegs.length > 1) {\n                com = this.findChild(com, nameSegs)\n            }\n\n            if (com) return com\n\n        }\n\n        var component = this.components[firstSeg]\n\n        if (component && nameSegs.length > 1) {\n            component = this.findChild(component, nameSegs)\n        }\n\n        if (!component) {\n            debugger\n            throw `. name: ${name}`\n        }\n\n        return component\n    }\n\n    findChild(component, nameSegs) {\n        for (let s of nameSegs.slice(1)) {\n            if (!component[s]) {\n                component = undefined\n                return\n            }\n\n            component = component[s]\n        }\n        return component\n\n    }\n\n\n}\n\nconst instance = new componentFactory()\n\nexport default instance","import { config as appLoaderConfig, AppLoader } from 'mk-app-loader'\nimport cf from './componentFactory'\n\n\nvar toast, notification, modal, errorBox, apps\n\nfunction config(option) {\n\tconst components = option.components\n\n\ttoast = option.toast\n\tnotification = option.notification\n\tmodal = option.modal\n\terrorBox = option.errorBox\n\tapps = option.apps\n\n\tappLoaderConfig(option)\n\n\tcf.registerComponent('AppLoader', AppLoader)\n\n\tif (components && components.length > 0) {\n\t\tcomponents.forEach(c => {\n\t\t\tif (c.appName)\n\t\t\t\tcf.registerAppComponent(c.appName, c.name, c.component)\n\n\t\t\telse\n\t\t\t\tcf.registerComponent(c.name, c.component)\n\t\t})\n\t}\n\n\tif (apps) {\n\t\tObject.keys(apps).forEach(k => {\n\t\t\tlet a = apps[k]\n\t\t\tif (a.components && a.components.length > 0) {\n\t\t\t\ta.components.forEach(c => {\n\t\t\t\t\tcf.registerAppComponent(a.name, c.name, c.component)\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n}\n\nconfig.getToast = () => toast\nconfig.getNotification = () => notification\nconfig.getModal = () => modal\nconfig.getApps = () => apps\n\nexport default config","class context {\n\tconstructor() {\n\t\tthis._context = {}\n\t}\n\n\tset(key, value) {\n\t\tthis._context[key] = value\n\t}\n\n\tget(key) {\n\t\treturn this._context[key]\n\t}\n}\n\n\nconst instance = new context()\n\nexport default instance","import { start, AppLoader } from 'mk-app-loader'\nimport config from './config'\nimport action from './action'\nimport reducer from './reducer'\nimport wrapper from './wrapper'\nimport componentFactory from './componentFactory'\nimport templateFactory from './templateFactory'\n//import tryCatchError from './reactTryCatchBatchingStrategy'\n\nexport default {\n\tstart,\n\tconfig,\n\taction,\n\treducer,\n\twrapper,\n\tcomponentFactory,\n\ttemplateFactory,\n\tAppLoader\n}","import React from 'react'\nimport { AppLoader, getApps } from 'mk-app-loader'\nimport componentFactory from './componentFactory'\nimport omit from 'omit.js'\nimport config from './config'\nimport utils from 'mk-utils'\n\nfunction parseMetaProps(meta, props, data) {\n    const ret = {}\n\n    Object.keys(meta).forEach(key => {\n        let v = meta[key],\n            t = typeof v\n\n        if (v instanceof Array) {\n            ret[key] = []\n\n            var i, c;\n\n            for (i = 0; c = v[i++];) {\n            //v.forEach(c => {\n                if (c instanceof Array) {\n                    ret[key] = v\n                }\n                else {\n                    let mc = metaToComponent(c, props, data)\n                    if (mc instanceof Array)\n                        ret[key] = ret[key].concat(mc)\n                    else\n                        ret[key].push(mc)\n                }\n            }\n        }\n        else if (t == 'object') {\n            if (v && v._notParse) {\n                ret[key] = v\n            }\n            else {\n                ret[key] = metaToComponent(v, props, data)\n            }\n        }\n        /*else if (t == 'function') {\n            ret[key] = v()\n        }*/\n        else {\n            ret[key] = v\n        }\n    })\n\n    return ret\n}\n\nconst toFunction = utils._.memoize((v) => {\n    return new Function(v)\n})\n\nfunction metaToComponent(meta, props, data) {\n    if (!meta)\n        return meta\n\n    const metaType = typeof meta\n\n    if (metaType == 'object' && meta['$$typeof']) {\n        return meta\n    }\n    else if (metaType == 'object' && meta['_isAMomentObject']) {\n        return meta\n    }\n    else if (metaType == 'object' && meta instanceof Date) {\n        return meta\n    }\n    else if (metaType == 'object') {\n        if (meta.component) {\n            if (typeof meta.component == 'function') {\n                meta.component = meta.component()\n            }\n            if (meta._visible === false)\n                return null\n\n            if (typeof meta._visible === 'function' && meta._visible() === false)\n                return null\n\n            //for in data.list\n            if (meta['_power'] && /for[ ]+in/.test(meta._power)) {\n                var p = meta._power\n                    .replace(/for[ ]+in/, '')\n                    .replace(' ', '')\n\n                if (p.indexOf('_rowIndex') != -1)\n                    p = p.replace('_rowIndex', meta.path.split(',').length > 1 ? meta.path.split(',')[1].replace(' ', '') : 0)\n\n                let items = props.gf(p)\n\n                if (!items || items.size == 0) return\n                items = items.toJS()\n                return items.map((o, index) => {\n                    let childMeta = props.gm(meta.path + ',' + index, undefined, data)\n                    delete childMeta._power\n                    return metaToComponent(childMeta, props, data)\n                })\n            }\n\n            //({rowIndex})=>rowIndex\n            if (meta._power && meta._power.indexOf('=>') != -1) {\n                return (...args) => {\n                    var varsString = (toFunction('return ' + meta['_power']))()(...args)\n                    var childMeta = props.gm(meta.path + ',' + varsString, undefined, data)\n                    childMeta._power = undefined\n                    return metaToComponent(childMeta, props, data)\n                    //return co ? React.cloneElement(co, { path: meta.path + ',' + varsString }) : co\n                }\n            }\n\n            const componentName = meta.component,\n                component = componentFactory.getComponent(props.appName, componentName)\n\n            /*\n            var allProps = {\n                key: meta.path,\n                ...props,\n                ...parseMetaProps(meta, props, data),\n            }*/\n\n            var allProps = parseMetaProps(meta, props, data)\n            if (!allProps.key) {\n                allProps.key = meta.path\n            }\n\n\n\n            /*\n             var metaProps = parseMetaProps(meta, props, data)\n\n            var metaPropsKeys = Object.keys(metaProps)\n            for (var i = 0; i < metaPropsKeys.length; i++) {\n                allProps[metaPropsKeys[i]] = metaProps[metaPropsKeys[i]]\n            }*/\n\n            delete allProps.component\n            delete allProps.name\n\n            //omit\n            //allProps = omit(allProps, ['clearAppState', 'component', 'name', 'getDirectFuns', 'initView', 'payload'])\n\n            if (componentName == 'AppLoader') {\n\n                var propKeys = Object.keys(props),\n                    i, key\n\n                for (i = 0; key = propKeys[i++];) {\n                    if (allProps[key] == undefined) {\n                        allProps[key] = props[key]\n                    }\n                }\n\n                //\n                delete allProps.clearAppState\n                delete allProps.getDirectFuns\n                delete allProps.initView\n                delete allProps.payload\n                delete allProps.componentWillMount\n                delete allProps.componentDidMount\n                delete allProps.shouldComponentUpdate\n                delete allProps.componentWillReceiveProps\n                delete allProps.componentWillUpdate\n                delete allProps.componentDidCatch\n                delete allProps.componentWillUnmount\n                delete allProps.componentDidUpdate\n                delete allProps.unmount\n\n                if (!allProps.appName)\n                    return null\n\n                if (allProps._notRender === true && !getApps()[allProps.appName]) {\n                    return null\n                }\n                allProps.key = allProps.appName\n                allProps.name = allProps.appName\n                return React.createElement(component, allProps)\n            }\n\n            /*\n            delete allProps.store\n            delete allProps.appName\n            delete allProps.appFullName\n            delete allProps.appQuery\n            delete allProps.appParams\n            delete allProps.storeSubscription\n            */\n\n            return React.createElement(component, allProps)\n        }\n        else {\n            return parseMetaProps(meta, props, data)\n        }\n    }\n    else {\n        return meta\n    }\n}\n\nconst MonkeyKing = (props) => {\n    const { path, gm, gf } = props\n    const data = gf().toJS()\n    return metaToComponent(gm(path, undefined, data), props, data)\n}\n\nexport default MonkeyKing","import Immutable, { Map, List } from 'immutable'\n\nimport contextManager from './context'\n\nimport * as common from './common'\n\nclass reducer {\n\tconstructor(option) {\n\t\tthis.appInfo = option.appInfo\n\t}\n\n\tinit = (state, option) => {\n\t\tconst {\n\t\t\tdata = {},\n\t\t} = option\n\n\t\treturn this.initByImmutable(state, {\n\t\t\tdata: Immutable.fromJS(data),\n\t\t})\n\t}\n\n\tinitByImmutable = (state, option) => {\n\t\tconst {\n\t\t\tdata,\n\t\t} = option\n\n\t\t//state@@mk-app-loader\n\t\tconst keys = []\n\t\tstate.mapKeys(key => {\n\t\t\tif (key.indexOf('@@') === -1)\n\t\t\t\tkeys.push(key)\n\t\t})\n\n\t\tkeys.forEach(key => {\n\t\t\tstate = state.remove(key)\n\t\t})\n\n\t\t//\n\t\treturn state\n\t\t\t.set('data', data)\n\t}\n\n\tgetMeta = common.getMeta\n\n\tgetField = common.getField\n\n\tgetFields = common.getFields\n\n\tsetField = common.setField\n\n\tsetFields = common.setFields\n\n\tgm = common.getMeta\n\n\tgf = common.getField\n\n\tgfs = common.getFields\n\n\tsf = common.setField\n\n\tsfs = common.setFields\n\n\tcontext = contextManager\n\n}\n\nexport default function creator(option) {\n\treturn new reducer(option)\n}","class templateFactory {\n    constructor() {\n        this.templates = {}\n    }\n\n    registerTemplate(name, templateHandler, ingoreExists) {\n        if (this.templates[name]) {\n            if (ingoreExists) {\n                return\n            }\n            else {\n                throw `template existed. name: ${name}`\n            }\n        }\n        this.templates[name] = templateHandler\n    }\n\n    registerTemplates(templates) {\n        if (!templates || templates.length == 0)\n            return\n        templates.forEach(t => this.registerTemplate(t.name, t.templateHandler))\n    }\n\n    getTemplate(name) {\n        if (!name)\n            throw 'template name can not null'\n        var template = this.templates[name]\n        return template\n    }\n}\n\nconst instance = new templateFactory()\n\nexport default instance","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport monkeyKing from './monkeyKing'\nimport config from './config'\nimport utils from 'mk-utils'\n\nexport default function wrapper(option) {\n\treturn WrappedComponent => {\n\t\treturn class internal extends Component {\n\n\t\t\tconstructor(props) {\n\t\t\t\tsuper(props)\n\t\t\t\tthis.state = { hasError: false }\n\t\t\t}\n\n\t\t\tcomponentWillMount() {\n\t\t\t\tthis.props.componentWillMount && this.props.componentWillMount()\n\t\t\t}\n\n\t\t\tcomponentDidMount() {\n\t\t\t\tthis.props.initView && this.props.initView(this) //\n\t\t\t\tthis.props.componentDidMount && this.props.componentDidMount()\n\t\t\t}\n\n\t\t\tshouldComponentUpdate(nextProps, nextState) {\n\t\t\t\tif (this.props.shouldComponentUpdate\n\t\t\t\t\t&& this.props.shouldComponentUpdate(nextProps, nextState) === true)\n\t\t\t\t\treturn true\n\n\t\t\t\tif (nextState.hasError != this.state.hasError) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\n\t\t\t\tfor (var o in this.props) {\n\t\t\t\t\tif (this.props[o] != nextProps[o]) {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false\n\t\t\t}\n\n\n\t\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\t\tif (this.state.hasError) {\n\t\t\t\t\tthis.setState({ hasError: false, error: undefined })\n\t\t\t\t}\n\n\t\t\t\tthis.props.componentWillReceiveProps\n\t\t\t\t\t&& this.props.componentWillReceiveProps(nextProps)\n\t\t\t}\n\n\t\t\tcomponentWillUpdate(nextProps, nextState) {\n\t\t\t\tthis.props.componentWillUpdate\n\t\t\t\t\t&& this.props.componentWillUpdate(nextProps, nextState)\n\t\t\t}\n\n\t\t\tcomponentDidCatch(error, info) {\n\t\t\t\tutils.exception.error(error)\n\t\t\t\tthis.setState({ hasError: true, error })\n\n\t\t\t\tthis.props.componentDidCatch\n\t\t\t\t\t&& this.props.componentDidCatch(error, info)\n\t\t\t}\n\n\n\t\t\tcomponentWillUnmount() {\n\t\t\t\tthis.props.unmount && this.props.unmount() //\n\t\t\t\tthis.props.componentWillUnmount\n\t\t\t\t\t&& this.props.componentWillUnmount()\n\t\t\t}\n\n\t\t\tcomponentDidUpdate() {\n\t\t\t\tthis.props.componentDidUpdate\n\t\t\t\t\t&& this.props.componentDidUpdate()\n\t\t\t}\n\n\t\t\trender() {\n\t\t\t\tif (this.state.hasError) {\n\t\t\t\t\treturn <div style={{ color: 'red' }}>{this.state.error && this.state.error.message }</div>\n\t\t\t\t}\n\n\t\t\t\tif (this.props.notRender === true || this.props._notRender === true)\n\t\t\t\t\treturn null\n\n\t\t\t\tif (!WrappedComponent)\n\t\t\t\t\treturn null\n\n\t\t\t\tif (!this.props.payload || !this.props.payload.get('data'))\n\t\t\t\t\treturn null\n\n\t\t\t\tif (this.props.payload.getIn(['data', '_notRender']) === true)\n\t\t\t\t\treturn null\n\n\t\t\t\treturn <WrappedComponent {...this.props} monkeyKing={monkeyKing} />\n\t\t\t}\n\t\t}\n\t}\n}\n\n","module.exports = __WEBPACK_EXTERNAL_MODULE_immutable__;","module.exports = __WEBPACK_EXTERNAL_MODULE_mk_app_loader__;","module.exports = __WEBPACK_EXTERNAL_MODULE_mk_utils__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;"],"sourceRoot":""}